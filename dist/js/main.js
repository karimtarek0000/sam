"use strict";jQuery(function(){$(".nav-link").on("click",function(e){var t;"home"!==$(this).attr("key")&&(e.preventDefault(),t=$(this).data("section"),$(this).parentsUntil("navbar-collapse").removeClass("show"),e=$("#"+t),0!==Object.keys(e).length?$("html, body").animate({scrollTop:e.offset().top-20},1e3):(localStorage.setItem("sectionName",t),location.assign("/")))});var e=localStorage.getItem("sectionName");"/"==location.pathname&&null!==e&&setTimeout(function(){$("html, body").animate({scrollTop:$("#"+e).offset().top-20},1e3,function(){localStorage.removeItem("sectionName")})},1e3);async function t(e){await $.get("../localizition/"+e+".json");"ar"===e?$("html").attr({dir:"rtl",lang:"ar"}):$("html").attr({dir:"ltr",lang:"en"})}function a(a){$(".change_lang option").each(function(e,t){$(t).attr("value")===a&&$(t).attr("selected",!0).siblings().removeAttr("selected")})}$(".change_lang").on("change",function(){var e=$(this).val();localStorage.setItem("language",e),location.reload()});var r=localStorage.getItem("language");null!==r?(a(r),t(r)):(t(r=$(".change_lang").val()),a(r)),$(".more").on("click",function(e){e.preventDefault(),$(this).parent().children("p").toggleClass("more"),$(this).parent().children("p").hasClass("more")?"ltr"===$("html").attr("dir")?$(this).text("less"):$(this).text("اقل"):"ltr"===$("html").attr("dir")?$(this).text("view more"):$(this).text("المزيــــد")}),$(".our-projects__wrapper").slick({lazyLoad:"progressive",infinite:!1,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1e4,arrows:!1,dots:!0,fade:!0,cssEase:"linear"}),$(".header-projects__wrapper").slick({lazyLoad:"progressive",infinite:!1,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,arrows:!0,prevArrow:"<svg class='a-left prev slick-prev'>\n    <use xlink:href=\"../icons/sprite.svg#icon-angle-left\">\n    </svg>",nextArrow:"<svg class='a-right next slick-next'>\n    <use xlink:href=\"../icons/sprite.svg#icon-angle-right\">\n    </svg>",responsive:[{breakpoint:793,settings:{arrows:!1}}]}),$(".other-projects__wrapper").slick({lazyLoad:"progressive",infinite:!1,slidesToShow:3,slidesToScroll:3,prevArrow:"<svg class='a-left prev slick-prev'>\n    <use xlink:href=\"../icons/sprite.svg#icon-angle-left\">\n    </svg>",nextArrow:"<svg class='a-right next slick-next'>\n    <use xlink:href=\"../icons/sprite.svg#icon-angle-right\">\n    </svg>",arrows:!0,responsive:[{breakpoint:793,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]});var s,o,i,n,l="https://cors-anywhere.herokuapp.com/https://sam-construction.com/sam/api/projects",c="https://cors-anywhere.herokuapp.com/https://sam-construction.com/sam/api/projects/",p="project_id",g="project_name",h="project_description",d="year",m="city",v={wrapper:$(".our-projects__wrapper"),head:$("#head"),par:$("#par"),btn:$("#viewMoreProject")};location.pathname.includes("project")&&(s={name:$("#projectName"),location:$("#projectLocation"),date:$("#projectDate"),description:$("#projectDesc"),wrapper1:$("#projectsWrapper"),wrapper2:$("#otherProjectsWrapper")},r=+localStorage.getItem("projectId")||1,$.get(""+c+r).done(function(e){var a=e.Data;s.name.text(a[g]),s.location.text(a[m]),s.date.text(a[d]),s.description.text(a[h]),$.each(a.project_slider,function(e,t){t="<img src="+t+' class="obj-image" alt='+a[g]+" />";s.wrapper1.slick("slickAdd",t)}),$.each(a.other_projects,function(e,t){t='\n            <div class="card-projects text-capitalize" key='+t[p]+'>\n                <div class="other-projects__wrapper__image">\n                    <img class="img-fluid obj-image" src='+t.image+" alt="+t[g]+' />\n                </div>\n                <h4 class="h-small weight-bold mt-2 mb-3">'+t[g]+'</h4>\n                <p class="m-0 mb-1">'+t[m]+'</p>\n                <p class="m-0">'+t[d]+"</p>\n            </div>\n        ";s.wrapper2.slick("slickAdd",t)})})),$(document).on("click",".card-projects",function(){var e=$(this).attr("key");localStorage.setItem("projectId",e),$("html, body").animate({scrollTop:0},500,function(){location.reload()})}),async function(e){try{var a=(await $.get(e)).Data;a.forEach(function(e,t){var a="<img src="+e.image+' class="obj-image" alt='+e[g]+" />";v.wrapper.slick("slickAdd",a),t==$(".slick-current").attr("data-slick-index")&&(v.head.text(e[g]),v.par.text(e[h]))});var r=$(".slick-dots li.slick-active").index();v.wrapper.on("afterChange",function(){var e=$(".slick-current").attr("data-slick-index");r=e,v.head.text(a[e][g]),v.par.text(a[e][h])}),v.btn.on("click",function(e){var t=a[r][p];localStorage.setItem("projectId",t)})}catch(e){alert("some error please try reload")}}(l),768<$(document).outerWidth(!0)&&(o={setTimeOut:2400,setInterval:2500},i=$("#partners__image").children().length,n=0,setInterval(function(){n===i&&(n=0),$("#partners__image").children().eq(n).addClass("partners__all-partners__image--active"),setTimeout(function(){$("#partners__image").children().eq(n-1).removeClass("partners__all-partners__image--active")},o.setTimeOut),n++},o.setInterval)),$("#year").text((new Date).getFullYear()),$("#whatsapp").on("click",function(){$(".whatsapp__icon__whatsapp").toggleClass("hideIcon"),$(".whatsapp__icon__close").toggleClass("visibleIcon"),$(".whatsapp__title").toggleClass("moveDown"),$(".whatsapp__popup, .whatsapp__popup__chat__open").toggleClass("moveUp")})});