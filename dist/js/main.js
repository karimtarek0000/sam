"use strict";jQuery(function(){$(".nav-link").on("click",function(t){var e;"home"!==$(this).attr("key")&&(t.preventDefault(),e=$(this).data("section"),$(this).parentsUntil("navbar-collapse").removeClass("show"),t=$("#"+e),0!==Object.keys(t).length?$("html, body").animate({scrollTop:t.offset().top-20},1e3):(localStorage.setItem("sectionName",e),location.assign("/")))});var t=localStorage.getItem("sectionName");"/"==location.pathname&&null!==t&&setTimeout(function(){$("html, body").animate({scrollTop:$("#"+t).offset().top-20},1e3,function(){localStorage.removeItem("sectionName")})},1e3);async function e(t){var a=await $.get("../localizition/"+t+".json");"ar"===t?$("html").attr({dir:"rtl",lang:"ar"}):$("html").attr({dir:"ltr",lang:"en"});t="/"==location.pathname?"home":location.pathname.replace(/([/]|.html)/g,"");document.title=a.title[t],$(".navbar-nav a").each(function(t,e){return $(e).text(a.navbar[$(e).attr("key")])}),$(".heading, .button, .par").each(function(t,e){"footer"===$(e).attr("key")?$(e).text(a[$(e).attr("key")][$(e).data("lang")]):$(e).text(a.pages[$(e).attr("key")][$(e).data("lang")])})}function a(a){$(".change_lang option").each(function(t,e){$(e).attr("value")===a&&$(e).attr("selected",!0).siblings().removeAttr("selected")})}$(".change_lang").on("change",function(){var t=$(this).val();localStorage.setItem("language",t),location.reload()});var r=localStorage.getItem("language");null!==r?(a(r),e(r)):(e(r=$(".change_lang").val()),a(r)),$(".more").on("click",function(t){t.preventDefault(),$(this).parent().children("p").toggleClass("more"),$(this).parent().children("p").hasClass("more")?"ltr"===$("html").attr("dir")?$(this).text("less"):$(this).text("شاهد اقل"):"ltr"===$("html").attr("dir")?$(this).text("view more"):$(this).text("شاهد المزيــــد")}),$(".our-projects__wrapper").slick({lazyLoad:"progressive",infinite:!1,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1e4,arrows:!1,dots:!0,fade:!0,cssEase:"linear"}),$(".header-projects__wrapper").slick({lazyLoad:"progressive",infinite:!1,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,arrows:!0,prevArrow:"<svg class='a-left prev slick-prev'>\n    <use xlink:href=\"../icons/sprite.svg#icon-angle-left\">\n    </svg>",nextArrow:"<svg class='a-right next slick-next'>\n    <use xlink:href=\"../icons/sprite.svg#icon-angle-right\">\n    </svg>",responsive:[{breakpoint:793,settings:{arrows:!1}}]}),$(".other-projects__wrapper").slick({lazyLoad:"progressive",infinite:!1,slidesToShow:3,slidesToScroll:3,prevArrow:"<svg class='a-left prev slick-prev'>\n    <use xlink:href=\"../icons/sprite.svg#icon-angle-left\">\n    </svg>",nextArrow:"<svg class='a-right next slick-next'>\n    <use xlink:href=\"../icons/sprite.svg#icon-angle-right\">\n    </svg>",arrows:!0,responsive:[{breakpoint:793,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]});var s="https://sam-construction.com/sam/api/projects",o="https://sam-construction.com/sam/api/projects/",n="https://sam-construction.com/sam/api/pages/1",i="https://sam-construction.com/sam/api/partners",c="https://sam-construction.com/sam/api/settings",l="project_id",p="project_name",g="project_description",m="year",d="city",h="page_title",u="page_body";$.ajaxSetup({headers:{Accept:"application/json","Accept-Language":r}});var v,_,f,w,k,j,x,b={wrapper:$(".our-projects__wrapper"),name:$("#head"),description:$("#par"),btn:$("#viewMoreProject")};location.pathname.includes("project")&&(v={name:$("#projectName"),location:$("#projectLocation"),date:$("#projectDate"),description:$("#projectDesc"),wrapper1:$("#projectsWrapper"),wrapper2:$("#otherProjectsWrapper")},r=+localStorage.getItem("projectId")||1,$.get(""+o+r).done(function(t){var a=t.Data;v.name.text(a[p]),v.location.text(a[d]),v.date.text(a[m]),v.description.text(a[g]),$.each(a.project_slider,function(t,e){e="<img src="+e+' class="obj-image" alt='+a[p]+" />";v.wrapper1.slick("slickAdd",e)}),$.each(a.other_projects,function(t,e){e='\n            <div class="card-projects text-capitalize" key='+e[l]+'>\n                <div class="other-projects__wrapper__image">\n                    <img class="img-fluid obj-image" src='+e.image+" alt="+e[p]+' />\n                </div>\n                <h4 class="h-small weight-bold mt-2 mb-3">'+e[p]+'</h4>\n                <p class="m-0 mb-1">'+e[d]+'</p>\n                <p class="m-0">'+e[m]+"</p>\n            </div>\n        ";v.wrapper2.slick("slickAdd",e)})})),$(document).on("click",".card-projects",function(){var t=$(this).attr("key");localStorage.setItem("projectId",t),$("html, body").animate({scrollTop:0},500,function(){location.reload()})}),_=s,$.get(_).then(function(t){var a=t.Data;a.forEach(function(t,e){var a="<img src="+t.image+' class="obj-image" alt='+t[p]+" />";b.wrapper.slick("slickAdd",a),e==$(".slick-current").attr("data-slick-index")&&(b.name.text(t[p]),b.description.text(t[g]))});var r=$(".slick-dots li.slick-active").index();b.wrapper.on("afterChange",function(){var t=$(".slick-current").attr("data-slick-index");r=t,b.name.text(a[t][p]),b.description.text(a[t][g])}),b.btn.on("click",function(t){var e=a[r][l];localStorage.setItem("projectId",e)})}).catch(function(t){alert("some errors please try reload this page")}),f=n,w={title:$("#titleAboutUs"),description:$("#descAboutUs")},$.get(f).then(function(t){t=t.Data;w.title.text(t[h]),w.description.text(t[u])}),k=i,$.get(k).done(function(t){t=t.Data;$.each(t,function(t,e){e='\n          <div class="col-6 col-md-2 partners__all-partners__image py-3 overflow-hidden">\n              <img src='+e.image+" alt="+e.name+" />\n          </div>\n        ";$("#partners__image").append(e)})}),768<$(document).outerWidth(!0)&&(j={setTimeOut:2400,setInterval:2500},x=0,setInterval(function(){var t=$("#partners__image").children().length;x===t&&(x=0),$("#partners__image").children().eq(x).addClass("partners__all-partners__image--active"),setTimeout(function(){$("#partners__image").children().eq(x-1).removeClass("partners__all-partners__image--active")},j.setTimeOut),x++},j.setInterval)),$("#year").text((new Date).getFullYear()),$.get(c).done(function(t){t=t.Data;$("#whatsapp-number").attr("href","https://wa.me/"+t.telephone_number)}),$("#whatsapp").on("click",function(){$(".whatsapp__icon__whatsapp").toggleClass("hideIcon"),$(".whatsapp__icon__close").toggleClass("visibleIcon"),$(".whatsapp__title").toggleClass("moveDown"),$(".whatsapp__popup, .whatsapp__popup__chat__open").toggleClass("moveUp")})});